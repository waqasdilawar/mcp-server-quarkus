# MCP server
quarkus.mcp.server.server-info.name=Service Account Name Provider 
quarkus.mcp.server.traffic-logging.enabled=true
quarkus.mcp.server.traffic-logging.text-limit=1000

# The weather API returns 30x redirects, so we need to follow them
quarkus.rest-client.follow-redirects=true

# We are doing this so that we can run the jar file directly
quarkus.package.jar.type=uber-jar

# --- MCP Server Configuration ---
quarkus.mcp.server.sse.root-path=/mcp

# --- Keycloak OIDC Configuration ---
quarkus.oidc.auth-server-url=http://localhost:8180/realms/mcp-realm
quarkus.oidc.client-id=mcp-server
quarkus.oidc.login.client-id=mcp-server
quarkus.oidc.token.audience=mcp-server
# Disable introspection (use local JWT validation only)
#quarkus.oidc.token.allow-jwt-introspection=false
#quarkus.oidc.token.allow-opaque-token-introspection=false

# Enable OAuth2 Protected Resource Metadata (RFC 9728)
# This automatically exposes /.well-known/oauth-protected-resource
quarkus.oidc.resource-metadata.enabled=true
quarkus.oidc.resource-metadata.force-https-scheme=false

# --- Security Policy ---
# Protect MCP endpoints, require authentication
quarkus.http.auth.permission.authenticated.paths=/mcp/*
quarkus.http.auth.permission.authenticated.policy=authenticated

# CORS configuration to allow MCP Inspector/Claude
quarkus.http.cors.enabled=true
quarkus.http.cors.origins=*