# The weather API returns 30x redirects, so we need to follow them
quarkus.rest-client.follow-redirects=true

# We are doing this so that we can run the jar file directly
quarkus.package.jar.type=uber-jar

# Enable logging to a file
quarkus.log.file.enable=true
quarkus.log.file.path=weather-quarkus.log

# --- Keycloak OIDC Configuration ---
quarkus.oidc.auth-server-url=http://localhost:8180/realms/mcp-realm
quarkus.oidc.client-id=mcp-server
quarkus.oidc.application-type=service
quarkus.oidc.tls.verification=none

# --- Security Policy ---
# Protect MCP endpoints, require authentication
quarkus.http.auth.permission.authenticated.paths=/mcp/*
quarkus.http.auth.permission.authenticated.policy=authenticated

# Allow public access to health/dev endpoints
quarkus.http.auth.permission.public.paths=/q/*
quarkus.http.auth.permission.public.policy=permit